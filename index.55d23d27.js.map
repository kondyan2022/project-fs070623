{"mappings":"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","sources":["<anon>","src/index.js","src/js/weekly.js","src/js/fivezerostar.js","src/js/upcoming.js","src/js/local-storage.js"],"sourcesContent":["(function () {\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\nparcelRequire(\"8ERGB\");\nparcelRequire(\"3qT3v\");\nparcelRequire(\"i8Q71\");\nparcelRequire(\"gVa74\");\n\nvar $kK94C = parcelRequire(\"kK94C\");\n\nvar $b3pWk = parcelRequire(\"b3pWk\");\nfunction $e67f165cd99d0a13$export$2e2bcd8739ae039(count) {\n    const numStar = Math.round(count);\n    return Array(5).fill(0).map((a, b)=>{\n        return numStar - 2 * (b + 1) >= 0 ? '<div class=\"star\"></div>' : numStar - 2 * (b + 1) + 1 == 0 ? '<div class=\"star-half\"></div>' : '<div class=\"star-outline\"></div>';\n    }).join(\"\");\n}\n\n\n//import getGenres from './get-genres';\nconst $7efa00ec3586167e$var$myService = new (0, $kK94C.default)();\nconst $7efa00ec3586167e$var$weeklyGallery = document.querySelector(\".weekly-gallery\");\n$7efa00ec3586167e$var$weeklyGallery.addEventListener(\"click\", $7efa00ec3586167e$var$hendlerOpenModalWindow);\nfunction $7efa00ec3586167e$var$hendlerOpenModalWindow(evt) {\n    console.log(evt.target.getAttribute(\"film-id\"), \"Це id фільму\");\n}\n$7efa00ec3586167e$var$renderGalleryWeekly();\nfunction $7efa00ec3586167e$var$renderGalleryWeekly() {\n    $7efa00ec3586167e$var$myService.fetchTrendingWeekMovies().then((resp)=>{\n        const movies = resp.data.results;\n        console.log(movies); //отримуємо першу сторінку трендов тижня (20шт)\n        // отримуємо масив з 3х рендомних індексів\n        const indexes = $7efa00ec3586167e$var$rendomIndx(movies.length - 1);\n        // отримуємо масив з 3х фильмів.\n        const weeklyMovies = [];\n        indexes.forEach((index)=>{\n            const movie = movies[index];\n            weeklyMovies.push(movie);\n        });\n        function createMarkup(arr) {\n            return weeklyMovies.map((a)=>(0, $b3pWk.default)(a, (0, $e67f165cd99d0a13$export$2e2bcd8739ae039))).join(\"\");\n        }\n        $7efa00ec3586167e$var$weeklyGallery.innerHTML = createMarkup(weeklyMovies);\n        console.log(weeklyMovies);\n    }).catch((e)=>console.error(e));\n}\n// function rendomIndex(x) {\n//   const rendomIndexes = [];\n//   for (let i = 0; i < 3; i++) {\n//     rendomIndexes.push(Math.floor(Math.random() * x));\n//   }\n//   return rendomIndexes;\n// }\nfunction $7efa00ec3586167e$var$rendomIndx(x) {\n    const moviesIndx = [];\n    while(moviesIndx.length < 3){\n        const num = Math.floor(Math.random() * x);\n        if (moviesIndx.includes(num)) continue;\n        else {\n            moviesIndx.push(num);\n            console.log(moviesIndx);\n        }\n    }\n    return moviesIndx;\n}\n\n\n\nvar $kK94C = parcelRequire(\"kK94C\");\n\nvar $lwvvG = parcelRequire(\"lwvvG\");\nparcelRequire(\"eL2pK\");\n// Функція для збереження даних у локальному сховищі\nconst $3791646d3ae2cee8$export$1b8cd2d0ef9a8e5d = (key, data)=>{\n    try {\n        const serializedData = JSON.stringify(data);\n        localStorage.setItem(key, serializedData);\n    } catch (error) {\n        console.error(`Error saving ${key} to localStorage:`, error);\n    }\n};\nconst $3791646d3ae2cee8$export$e68c847c0bceb7d5 = (key)=>{\n    try {\n        const serializedData = localStorage.getItem(key);\n        return serializedData ? JSON.parse(serializedData) : undefined;\n    } catch (error) {\n        console.error(`Error loading ${key} from localStorage:`, error);\n        return undefined;\n    }\n};\nconst $3791646d3ae2cee8$export$aa8cd6a69a90bc68 = (key)=>{\n    try {\n        localStorage.removeItem(key);\n    } catch (error) {\n        console.error(`Error removing ${key} from localStorage:`, error);\n    }\n};\nfunction $3791646d3ae2cee8$export$dedbdfbe33455f98(id, select) {\n    const sel = select + \"Data\";\n    const moviesData = $3791646d3ae2cee8$export$e68c847c0bceb7d5(\"moviesData\");\n    const movieData = moviesData.find((movie)=>movie.id === id);\n    const libArr = $3791646d3ae2cee8$export$e68c847c0bceb7d5(select) || [];\n    const libData = $3791646d3ae2cee8$export$e68c847c0bceb7d5(sel) || [];\n    const index = libArr.indexOf(id);\n    if (index < 0) {\n        libArr.push(id);\n        libData.push(movieData);\n    } else {\n        libArr.splice(index, 1);\n        libData.splice(index, 1);\n    }\n    $3791646d3ae2cee8$export$1b8cd2d0ef9a8e5d(select, libArr);\n    $3791646d3ae2cee8$export$1b8cd2d0ef9a8e5d(sel, libData);\n}\nfunction $3791646d3ae2cee8$export$2e1065431db372bb(data) {\n    $3791646d3ae2cee8$export$1b8cd2d0ef9a8e5d(\"moviesData\", data.results);\n}\nfunction $3791646d3ae2cee8$export$72072733bf1f4481({ id: newId , title: title , poster_path: poster_path , genre_ids: genre_ids , release_date: release_date , vote_average: vote_average  }) {\n    const arrayLibrary = $3791646d3ae2cee8$export$e68c847c0bceb7d5(\"moviesData\") || [];\n    if (!arrayLibrary.filter(({ id: id  })=>id == newId).length) {\n        arrayLibrary.push({\n            id: newId,\n            title: title,\n            poster_path: poster_path,\n            genre_ids: genre_ids,\n            release_date: release_date,\n            vote_average: vote_average\n        });\n        $3791646d3ae2cee8$export$1b8cd2d0ef9a8e5d(\"moviesData\", arrayLibrary);\n    }\n}\nfunction $3791646d3ae2cee8$export$fb91a52e6ec6eb82() {\n    return $3791646d3ae2cee8$export$e68c847c0bceb7d5(\"moviesData\") || [];\n}\nfunction $3791646d3ae2cee8$export$acfc7dc7ffc23978(idForRemove) {\n    const arrayLibrary = $3791646d3ae2cee8$export$e68c847c0bceb7d5(\"moviesData\") || [];\n    $3791646d3ae2cee8$export$1b8cd2d0ef9a8e5d(\"moviesData\", arrayLibrary.filter(({ id: id  })=>id != idForRemove));\n}\nfunction $3791646d3ae2cee8$export$7b71630ca99ee5be(idForCheck) {\n    const arrayLibrary = $3791646d3ae2cee8$export$e68c847c0bceb7d5(\"moviesData\") || [];\n    return arrayLibrary.filter(({ id: id  })=>id == idForCheck).length === 1;\n}\n\n\nconst $4c6aab06649ec8ef$var$wrapperForRender = document.querySelector(\".js-upcoming-wrapper\");\nconst $4c6aab06649ec8ef$var$serviceUpcoming = new (0, $kK94C.default)();\nconsole.log($4c6aab06649ec8ef$var$serviceUpcoming);\n$4c6aab06649ec8ef$var$serviceUpcoming.fetchUpcomingMovies().then((resp)=>{\n    console.log(\"Upcoming\", resp);\n    const data = resp.data;\n    console.log(data);\n    const datasUpcoming = {\n        pageCurrent: data.page,\n        totalResults: data.total_results,\n        results: data.results\n    };\n    console.log(datasUpcoming);\n    const arrayResults = datasUpcoming.results;\n    if (arrayResults.length > 0) {\n        $4c6aab06649ec8ef$var$renderToMarkup(arrayResults);\n        const btnSaveToLocalStorage = document.querySelector(\".up-btn\");\n        // btnSaveToLocalStorage.addEventListener('click', buttonHandler);\n        btnSaveToLocalStorage.addEventListener(\"click\", (event)=>{\n            const button = event.target;\n            const movieId = event.target.dataset.movieId;\n            const getMovie = arrayResults.find((movie)=>movie.id == movieId);\n            console.log(getMovie);\n            if ((0, $3791646d3ae2cee8$export$7b71630ca99ee5be)(movieId)) {\n                (0, $3791646d3ae2cee8$export$acfc7dc7ffc23978)(movieId);\n                button.textContent = \"Add to my library\";\n                console.log(\"remove\");\n            } else {\n                (0, $3791646d3ae2cee8$export$72072733bf1f4481)(getMovie);\n                button.textContent = \"Remove from my library\";\n                console.log(\"save\");\n            }\n        });\n    } else if (arrayResults.length === 0) $4c6aab06649ec8ef$var$wrapperForRender.innerHTML = '<p class=\"upcoming-error\">OOPS... We are very sorry! Upcoming this month not found.</p>';\n}).catch((e)=>console.error(e));\nfunction $4c6aab06649ec8ef$var$creatMarkup(movie) {\n    return `\n    <div class=\"upcoming-left-wrap\">\n        <div class=\"up-thumb\">\n            <img \n                srcset=\"\n                    https:/image.tmdb.org/t/p/w342/${movie.poster_path} 342w,\n                    https:/image.tmdb.org/t/p/w500/${movie.backdrop_path} 500w,\n                    https:/image.tmdb.org/t/p/w780/${movie.backdrop_path} 780w,\n                    https:/image.tmdb.org/t/p/original/${movie.backdrop_path} 2000w\n                \"\n                sizes=\"(min-width: 320px),\n                    (min-width: 768px),\n                    (min-width: 1280px),\n                \"\n                src=\"https:/image.tmdb.org/t/p/original/${movie.backdrop_path}\" \n                alt=\"${movie.title}\"\n                class=\"upcoming-image\"\n            />\n        </div>\n    </div>\n    <div class=\"upcoming-right-wrap\">\n        <h2 class=\"upcoming-movie-title\">${movie.title}</h2>\n        <table class=\"upcoming-table\">\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Release date</td>\n                <td class=\"upcom-data-release\">${movie.release_date}</td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Vote / Votes</td>\n                <td class=\"upcoming-data-average\">\n                    <span class=\"up-average\">${movie.vote_average}</span>/<span class=\"up-count\">${movie.vote_count}</span>\n                </td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Popularity</td>\n                <td class=\"upcoming-data-get\">${movie.popularity.toFixed(1)}</td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Genre</td>\n                <td class=\"upcoming-data-get\">${(0, $lwvvG.default)().filter(({ id: id  })=>movie.genre_ids.includes(id)).map(({ name: name  })=>name).slice(0, 2).join(\", \")}</td>\n            </tr>\n        </table>\n        <p class=\"upcoming-about\">About</p>\n        <p class=\"upcoming-about-descr\">${movie.overview}</p>\n        <button type=\"button\" class=\"up-btn\" data-movie-id=\"${movie.id}\">Add to my library</button>\n    </div>\n    `;\n}\nfunction $4c6aab06649ec8ef$var$renderToMarkup(array) {\n    const randomIndex = $4c6aab06649ec8ef$var$getRandomIndex();\n    const randomMovie = array.filter((movie)=>movie.backdrop_path !== null).map((movie)=>$4c6aab06649ec8ef$var$creatMarkup(movie))[randomIndex];\n    console.log(randomIndex);\n    $4c6aab06649ec8ef$var$wrapperForRender.innerHTML = randomMovie;\n}\nfunction $4c6aab06649ec8ef$var$getRandomIndex() {\n    return Math.floor(Math.random() * 15);\n} //-------------------handlerBTN\n // function buttonHandler(event) {\n //     const { results } = dataFromApi;\n //     results.forEach(saveToLibrary)\n //     console.log(results)\n //     // const { results } = dataFromApi;\n //     // results.forEach(saveToLibrary);\n //     const button = event.target;\n //     console.log(button)\n //     const movieId = event.target.dataset.movieId;\n //     console.log(movieId);\n //     getMovie = getMovieById(movieId);\n //     if (isInLibrary(movieId)) {\n //         removeFromLibrary(movieId);\n //         button.textContent = \"Add to my library\";\n //         console.log(\"remove\")\n //     } else {\n //         saveToLibrary(getMovie);\n //         button.textContent = \"Remove from my library\"\n //         console.log(\"save\")\n //     }\n // }\n // function getMovieById(movieId) {\n //     return arrayResults.find(movie => movie.id === movieId);\n // }\n\n\nparcelRequire(\"cbbxM\");\nparcelRequire(\"ijwS8\");\nparcelRequire(\"guHir\");\nparcelRequire(\"7hKzD\");\n\n})();\n//# sourceMappingURL=index.55d23d27.js.map\n","import './js/load-genres';\nimport './js/totop';\nimport './js/header';\nimport './js/hero';\nimport './js/weekly';\nimport './js/upcoming';\nimport './js/modal-poster';\nimport './js/modal-trailer';\nimport './js/ourteam';\nimport './js/footer';\n","import TMDBApiService from './tmdb-api';\nimport getFilmCard from './film-card';\nimport getFiveStar from './fivezerostar';\n//import getGenres from './get-genres';\n\nconst myService = new TMDBApiService();\nconst weeklyGallery = document.querySelector('.weekly-gallery');\n\nweeklyGallery.addEventListener('click', hendlerOpenModalWindow);\n\nfunction hendlerOpenModalWindow(evt) {\n  console.log(evt.target.getAttribute('film-id'), 'Це id фільму');\n}\n\nrenderGalleryWeekly();\n\nfunction renderGalleryWeekly() {\n  myService\n    .fetchTrendingWeekMovies()\n    .then(resp => {\n      const movies = resp.data.results;\n      console.log(movies); //отримуємо першу сторінку трендов тижня (20шт)\n\n      // отримуємо масив з 3х рендомних індексів\n      const indexes = rendomIndx(movies.length - 1);\n      // отримуємо масив з 3х фильмів.\n      const weeklyMovies = [];\n\n      indexes.forEach(index => {\n        const movie = movies[index];\n        weeklyMovies.push(movie);\n      });\n\n      function createMarkup(arr) {\n        return weeklyMovies.map(a => getFilmCard(a, getFiveStar)).join('');\n      }\n\n      weeklyGallery.innerHTML = createMarkup(weeklyMovies);\n      console.log(weeklyMovies);\n    })\n    .catch(e => console.error(e));\n}\n\n// function rendomIndex(x) {\n//   const rendomIndexes = [];\n//   for (let i = 0; i < 3; i++) {\n//     rendomIndexes.push(Math.floor(Math.random() * x));\n//   }\n\n//   return rendomIndexes;\n// }\n\nfunction rendomIndx(x) {\n  const moviesIndx = [];\n\n  while (moviesIndx.length < 3) {\n    const num = Math.floor(Math.random() * x);\n\n    if (moviesIndx.includes(num)) {\n      continue;\n    } else {\n      moviesIndx.push(num);\n      console.log(moviesIndx);\n    }\n  }\n  return moviesIndx;\n}\n","export default function getFiveStar(count) {\n  const numStar = Math.round(count);\n  return Array(5)\n    .fill(0)\n    .map((a, b) => {\n      return numStar - 2 * (b + 1) >= 0\n        ? '<div class=\"star\"></div>'\n        : numStar - 2 * (b + 1) + 1 == 0\n        ? '<div class=\"star-half\"></div>'\n        : '<div class=\"star-outline\"></div>';\n    })\n    .join('');\n}\n","import TMDBApiService from './tmdb-api';\nimport getGenres from './get-genres';\nimport dataFromApi from '../testcatalog.json';\nimport {\n    saveToLibrary,\n    getLibraryList,\n    isInLibrary,\n    removeFromLibrary,\n} from './local-storage';\n\nconst wrapperForRender = document.querySelector('.js-upcoming-wrapper');\nconst serviceUpcoming = new TMDBApiService();\n\nconsole.log(serviceUpcoming);\n\nserviceUpcoming\n    .fetchUpcomingMovies()\n    .then((resp) => {\n        console.log(\"Upcoming\", resp);\n\n        const data = resp.data;\n        console.log(data);\n\n        const datasUpcoming = {\n            pageCurrent: data.page,\n            totalResults: data.total_results,\n            results: data.results\n        }\n        console.log(datasUpcoming)\n\n        const arrayResults = datasUpcoming.results;\n\n        if (arrayResults.length > 0) {\n            renderToMarkup(arrayResults);\n\n            const btnSaveToLocalStorage = document.querySelector('.up-btn');\n            // btnSaveToLocalStorage.addEventListener('click', buttonHandler);\n            btnSaveToLocalStorage.addEventListener('click', (event) => {\n                const button = event.target;\n                const movieId = event.target.dataset.movieId;\n                const getMovie = arrayResults.find((movie) => movie.id == movieId);\n                console.log(getMovie)\n                if (isInLibrary(movieId)) {\n                    removeFromLibrary(movieId);\n                    button.textContent = \"Add to my library\";\n                    console.log(\"remove\")\n                } else {\n                    saveToLibrary(getMovie);\n                    button.textContent = \"Remove from my library\"\n                    console.log(\"save\")\n                }\n            });\n\n        } else if (arrayResults.length === 0) {\n            wrapperForRender.innerHTML = '<p class=\"upcoming-error\">OOPS... We are very sorry! Upcoming this month not found.</p>'\n        }\n    })\n    .catch((e) => console.error(e));\n\n\nfunction creatMarkup(movie) {\n    return `\n    <div class=\"upcoming-left-wrap\">\n        <div class=\"up-thumb\">\n            <img \n                srcset=\"\n                    https:/image.tmdb.org/t/p/w342/${movie.poster_path} 342w,\n                    https:/image.tmdb.org/t/p/w500/${movie.backdrop_path} 500w,\n                    https:/image.tmdb.org/t/p/w780/${movie.backdrop_path} 780w,\n                    https:/image.tmdb.org/t/p/original/${movie.backdrop_path} 2000w\n                \"\n                sizes=\"(min-width: 320px),\n                    (min-width: 768px),\n                    (min-width: 1280px),\n                \"\n                src=\"https:/image.tmdb.org/t/p/original/${movie.backdrop_path}\" \n                alt=\"${movie.title}\"\n                class=\"upcoming-image\"\n            />\n        </div>\n    </div>\n    <div class=\"upcoming-right-wrap\">\n        <h2 class=\"upcoming-movie-title\">${movie.title}</h2>\n        <table class=\"upcoming-table\">\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Release date</td>\n                <td class=\"upcom-data-release\">${movie.release_date}</td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Vote / Votes</td>\n                <td class=\"upcoming-data-average\">\n                    <span class=\"up-average\">${movie.vote_average}</span>/<span class=\"up-count\">${movie.vote_count}</span>\n                </td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Popularity</td>\n                <td class=\"upcoming-data-get\">${movie.popularity.toFixed(1)}</td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Genre</td>\n                <td class=\"upcoming-data-get\">${getGenres()\n            .filter(({ id }) => movie.genre_ids.includes(id))\n            .map(({ name }) => name)\n            .slice(0, 2)\n            .join(', ')}</td>\n            </tr>\n        </table>\n        <p class=\"upcoming-about\">About</p>\n        <p class=\"upcoming-about-descr\">${movie.overview}</p>\n        <button type=\"button\" class=\"up-btn\" data-movie-id=\"${movie.id}\">Add to my library</button>\n    </div>\n    `\n}\n\n\nfunction renderToMarkup(array) {\n    const randomIndex = getRandomIndex();\n    const randomMovie = array\n        .filter(movie => movie.backdrop_path !== null)\n        .map(movie => creatMarkup(movie))[randomIndex];\n\n    console.log(randomIndex);\n\n    wrapperForRender.innerHTML = randomMovie;\n\n}\n\nfunction getRandomIndex() {\n    return Math.floor(Math.random() * 15);\n}\n\n//-------------------handlerBTN\n\n// function buttonHandler(event) {\n//     const { results } = dataFromApi;\n\n//     results.forEach(saveToLibrary)\n//     console.log(results)\n\n//     // const { results } = dataFromApi;\n//     // results.forEach(saveToLibrary);\n\n//     const button = event.target;\n//     console.log(button)\n//     const movieId = event.target.dataset.movieId;\n//     console.log(movieId);\n//     getMovie = getMovieById(movieId);\n\n//     if (isInLibrary(movieId)) {\n//         removeFromLibrary(movieId);\n//         button.textContent = \"Add to my library\";\n//         console.log(\"remove\")\n//     } else {\n//         saveToLibrary(getMovie);\n//         button.textContent = \"Remove from my library\"\n//         console.log(\"save\")\n//     }\n// }\n\n// function getMovieById(movieId) {\n//     return arrayResults.find(movie => movie.id === movieId);\n// }","// Функція для збереження даних у локальному сховищі\nexport const saveToLocalStorage = (key, data) => {\n  try {\n    const serializedData = JSON.stringify(data);\n    localStorage.setItem(key, serializedData);\n  } catch (error) {\n    console.error(`Error saving ${key} to localStorage:`, error);\n  }\n};\n\n// Функція для отримання даних з локального сховища\nexport const loadFromLocalStorage = key => {\n  try {\n    const serializedData = localStorage.getItem(key);\n    return serializedData ? JSON.parse(serializedData) : undefined;\n  } catch (error) {\n    console.error(`Error loading ${key} from localStorage:`, error);\n    return undefined;\n  }\n};\n\n// Функція для видалення даних з локального сховища\nexport const removeFromLocalStorage = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error(`Error removing ${key} from localStorage:`, error);\n  }\n};\n\n/**\n * Додає або видаляє фільм з відповідного списку у локальному сховищі.\n *\n * @param {number} id - Ідентифікатор фільму.\n * @param {string} select - Назва списку.\n */\nexport function addListLibrary(id, select) {\n  const sel = select + 'Data';\n  const moviesData = loadFromLocalStorage('moviesData');\n  const movieData = moviesData.find(movie => movie.id === id);\n  const libArr = loadFromLocalStorage(select) || [];\n  const libData = loadFromLocalStorage(sel) || [];\n  const index = libArr.indexOf(id);\n  if (index < 0) {\n    libArr.push(id);\n    libData.push(movieData);\n  } else {\n    libArr.splice(index, 1);\n    libData.splice(index, 1);\n  }\n  saveToLocalStorage(select, libArr);\n  saveToLocalStorage(sel, libData);\n}\n\n/**\n * Оновлює дані фільмів у локальному сховищі.\n *\n * @param {Object} data - Об'єкт з даними фільмів.\n */\nexport function moviesDataUpdate(data) {\n  saveToLocalStorage('moviesData', data.results);\n}\n\nexport function saveToLibrary({\n  id: newId,\n  title,\n  poster_path,\n  genre_ids,\n  release_date,\n  vote_average,\n}) {\n  const arrayLibrary = loadFromLocalStorage('moviesData') || [];\n  if (!arrayLibrary.filter(({ id }) => id == newId).length) {\n    arrayLibrary.push({\n      id: newId,\n      title,\n      poster_path,\n      genre_ids,\n      release_date,\n      vote_average,\n    });\n    saveToLocalStorage('moviesData', arrayLibrary);\n  }\n}\n\nexport function getLibraryList() {\n  return loadFromLocalStorage('moviesData') || [];\n}\n\nexport function removeFromLibrary(idForRemove) {\n  const arrayLibrary = loadFromLocalStorage('moviesData') || [];\n  saveToLocalStorage(\n    'moviesData',\n    arrayLibrary.filter(({ id }) => id != idForRemove)\n  );\n}\n\nexport function isInLibrary(idForCheck) {\n  const arrayLibrary = loadFromLocalStorage('moviesData') || [];\n\n  return arrayLibrary.filter(({ id }) => id == idForCheck).length === 1;\n}"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$kK94C","$b3pWk","$e67f165cd99d0a13$export$2e2bcd8739ae039","count","numStar","Math","round","Array","fill","map","a","b","join","$7efa00ec3586167e$var$myService","default","$7efa00ec3586167e$var$weeklyGallery","document","querySelector","addEventListener","evt","console","log","target","getAttribute","fetchTrendingWeekMovies","then","resp","movies","data","results","indexes","$7efa00ec3586167e$var$rendomIndx","x","moviesIndx","length","num","floor","random","includes","push","weeklyMovies","forEach","index","movie","innerHTML","catch","e","error","$lwvvG","$3791646d3ae2cee8$export$1b8cd2d0ef9a8e5d","key","serializedData","JSON","stringify","localStorage","setItem","$3791646d3ae2cee8$export$e68c847c0bceb7d5","getItem","parse","undefined","$4c6aab06649ec8ef$var$wrapperForRender","$4c6aab06649ec8ef$var$serviceUpcoming","fetchUpcomingMovies","datasUpcoming","pageCurrent","page","totalResults","total_results","arrayResults","$4c6aab06649ec8ef$var$renderToMarkup","array","randomIndex","randomMovie","filter","backdrop_path","poster_path","title","release_date","vote_average","vote_count","popularity","toFixed","genre_ids","name","slice","overview","btnSaveToLocalStorage","event","button","movieId","dataset","getMovie","find","idForCheck","arrayLibrary","idForRemove","textContent","newId"],"version":3,"file":"index.55d23d27.js.map"}
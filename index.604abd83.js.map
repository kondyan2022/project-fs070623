{"mappings":"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","sources":["<anon>","src/index.js","src/js/newhero.js","src/js/modal-trailer.js","src/js/weekly.js","src/js/upcoming.js"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\nparcelRequire(\"faBfA\");\nparcelRequire(\"h5Hr7\");\nparcelRequire(\"bUb57\");\n\nvar $9MaFa = parcelRequire(\"9MaFa\");\n\nvar $9MaFa = parcelRequire(\"9MaFa\");\nconst $08461d082de52db9$export$e12694e911a05f40 = ({ modal: modal , btnOpen: btnOpen , btnClose: btnClose , time: time = 300  })=>{\n    const buttonElems = document.querySelectorAll(btnOpen);\n    const modalElem = document.querySelector(modal);\n    let player;\n    modalElem.style.cssText = `\n    display: flex;\n    visibility: hidden;\n    opacity: 0;\n    transition: opacity ${time}ms ease-in-out;\n  `;\n    const closeModal = (event)=>{\n        const target = event.target;\n        if (target === modalElem || btnClose && target.closest(btnClose) || event.code === \"Escape\") {\n            modalElem.style.opacity = 0;\n            setTimeout(()=>{\n                modalElem.style.visibility = \"hidden\";\n                if (player) player.stopVideo();\n            }, time);\n            window.removeEventListener(\"keydown\", closeModal);\n        }\n        document.body.classList.remove(\"modal-open\");\n    };\n    const openModal = async (evt)=>{\n        const el = evt.target.closest(\"[film-id]\");\n        try {\n            const trailerKey = await getListMovie(el.getAttribute(\"film-id\"));\n            modalElem.style.visibility = \"visible\";\n            modalElem.style.opacity = 1;\n            window.addEventListener(\"keydown\", closeModal);\n            if (player) player.loadVideoById(trailerKey);\n            document.body.classList.add(\"modal-open\");\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    buttonElems.forEach((btn)=>{\n        btn.addEventListener(\"click\", openModal);\n    });\n    modalElem.addEventListener(\"click\", closeModal);\n    const myService = new (0, $9MaFa.default)();\n    // Загрузка API YouTube Player и создание плеера\n    function loadYoutubePlayerAPI() {\n        const tag = document.createElement(\"script\");\n        tag.src = \"https://www.youtube.com/iframe_api\";\n        const firstScriptTag = document.getElementsByTagName(\"script\")[0];\n        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        window.onYouTubeIframeAPIReady = createPlayer;\n    }\n    function getListMovie(id) {\n        return new Promise((resolve, reject)=>{\n            myService.fetchMovieVideoById(id).then((resp)=>{\n                if (resp) {\n                    console.log(resp);\n                    const trailerKey = getTrailerKey(resp); // Получение ключа видео\n                    resolve(trailerKey); // Возвращение ключа видео в промисе\n                } else {\n                    const errorModalElem = document.createElement(\"div\");\n                    errorModalElem.classList.add(\"modal__error\");\n                    errorModalElem.innerHTML = `\n            <p class=\"error-message\">\n              OOPS... <br />\n              We are very sorry! <br />\n              But we couldn’t find the trailer.\n            </p>\n            <img class=\"error-image\" src=\"../images/oops.jpg\" alt=\"error\" />\n          `;\n                    modalElem.appendChild(errorModalElem);\n                    reject(new Error(\"Trailer not found\")); // Ошибка в промисе, если трейлер не найден\n                }\n            }).catch((e)=>reject(e));\n        });\n    }\n    let trailerKey;\n    function getTrailerKey({ data: { results: results  }  }) {\n        const trailerList = results.filter(({ type: type  })=>{\n            return type === \"Trailer\";\n        }).sort(({ published_at: a  }, { published_at: b  })=>{\n            return a - b;\n        });\n        if (trailerList) return trailerList[0].key;\n    }\n    function createPlayer(videoId) {\n        player = new window.YT.Player(\"youtube-player\", {\n            width: \"600\",\n            height: \"350\",\n            videoId: videoId,\n            playerVars: {\n                autoplay: 0,\n                controls: 1,\n                disablekb: 1,\n                fs: 0,\n                iv_load_policy: 3,\n                rel: 0\n            },\n            events: {\n                onReady: onPlayerReady\n            }\n        });\n    }\n    function onPlayerReady(event) {\n    // Видео готово к воспроизведению\n    }\n    loadYoutubePlayerAPI();\n}; // modalController({\n //   modal: '.modal1',\n //   btnOpen: '.section__button1',\n //   btnClose: '.modal__close',\n // });\n\n\n\nvar $bEw54 = parcelRequire(\"bEw54\");\n\n// import Swiper from 'swiper';\n// import 'swiper/swiper.min.css';\n// import 'swiper/swiper.css';\nfunction $798a88f31bddc2c8$var$createMarkup(movie) {\n    console.log(movie.overview);\n    return `\n        <div class=\"swiper-wrapper\">\n            <div class=\"swiper-slide newhero-content-wrapper\">\n                    <div class=\"newhero-thumb\">\n                        <img\n                            srcset=\"\n                                https://image.tmdb.org/t/p/w300/${movie.backdrop_path}      300w,\n                                https://image.tmdb.org/t/p/w780/${movie.backdrop_path}      780w,\n                                https://image.tmdb.org/t/p/w1280/${movie.backdrop_path}      1280w,\n                                https://image.tmdb.org/t/p/original/${movie.backdrop_path}  3840w\n                            \"\n                            sizes=\"(min-width: 320px) 772px,\n                                    (min-width: 768px) 768px,\n                                    (min-width: 1280px) 1280px,\n                                    100vw\"\n                            src=\"https://image.tmdb.org/t/p/w300/${movie.backdrop_path}\"\n                            alt=\"${movie.title}\"\n                            class=\"newhero-image\"\n                            width=\"1280\"\n                            height=\"720\"\n                        />\n                    </div>\n\n                    <div class=\"newhero-movie-inform-wrap\">\n                        <h1 class=\"newhero-movie-title\">${movie.title}</h1>\n                        <div class=\"newhero-stars\">${(0, $bEw54.default)(movie.vote_average)}</div>\n                        <p class=\"newhero-about-descr\">${movie.overview.substring(0, 190)}...</p>\n                        <div class=\"newh-wrap-buttons\">\n                            <div class=\"newhero-wrap-btn-api-one newh-wrap-trailer\">\n                                <button type=\"button\" class=\"newhero-btn-api-one js-newhero-open-modal-tr\">Watch trailer</button>\n                            </div>\n                            <div class=\"newhero-wrap-btn-api-two newh-wrap-detail\">\n                                <button type=\"button\" class=\"newhero-btn-api-two js-newhero-open-mod-det\">More details</button>\n                            </div>\n                        </div>\n                    </div>\n            </div>\n        </div>\n    `;\n}\nconst $798a88f31bddc2c8$var$wrapperContent = document.querySelector(\".newhero-content-wrapper\");\nconst $798a88f31bddc2c8$var$wrapperForRender = document.querySelector(\".newhero-render-wrapper\");\nconst $798a88f31bddc2c8$var$serviceTrendingDaysMovies = new (0, $9MaFa.default)();\n$798a88f31bddc2c8$var$serviceTrendingDaysMovies.fetchTrendingDayMovies().then((resp)=>{\n    const data = resp.data;\n    const datasTrendDay = {\n        pageCurrent: data.page,\n        totalResults: data.total_results,\n        results: data.results\n    };\n    const arrayResults = datasTrendDay.results; //array with results\n    if (arrayResults.length > 0) {\n        $798a88f31bddc2c8$var$renderToMarkup(arrayResults);\n        $798a88f31bddc2c8$var$wrapperForRender.addEventListener(\"click\", (e)=>{\n            console.log(e.currentTarget, e.target);\n            console.log(e.currentTarget);\n            if (e.target === document.querySelector(\".js-newhero-open-mod-det\")) {\n                /// open modal with details \n                console.log(\"button DETAILS\");\n                $798a88f31bddc2c8$var$wrapperForRender.addEventListener(\"click\", (e)=>{\n                    const el = evt.target.closest(\"[film-id]\");\n                    if (el) openModalCard(el.getAttribute(\"film-id\"));\n                });\n            }\n        });\n        return;\n    }\n}).catch((e)=>console.error(e));\n//---------------------------------changes this function for slider \nfunction $798a88f31bddc2c8$var$renderToMarkup(array) {\n    const randomIndex = $798a88f31bddc2c8$var$getRandomIndex();\n    const randomMovie = array.filter((movie)=>movie.backdrop_path !== null).map((movie)=>{\n        const movieMarkup = $798a88f31bddc2c8$var$createMarkup(movie);\n        return {\n            overview: movie.overview,\n            // id: movie.id,\n            markup: movieMarkup\n        };\n    })[randomIndex];\n    const { overview: overview , markup: markup  } = randomMovie;\n    setTimeout(()=>{\n        $798a88f31bddc2c8$var$wrapperForRender.innerHTML = markup;\n        (0, $08461d082de52db9$export$e12694e911a05f40)({\n            modal: \".modal1\",\n            btnOpen: \".js-newhero-open-modal-tr\",\n            btnClose: \".modalclose\"\n        });\n    }, 3000);\n}\nfunction $798a88f31bddc2c8$var$getRandomIndex() {\n    return Math.floor(Math.random() * 15);\n} //=================swiper======================================\n // function renderToMarkup(array) {\n //     // const randomIndex = getRandomIndex();\n //     const slides = array\n //         .filter(movie => movie.backdrop_path !== null)\n //         .map(movie => createMarkup(movie))\n //         .join('');\n //     // setTimeout(() => {\n //     wrapperForRender.innerHTML = slides;\n //     // console.log('timeout');\n //     modalController({\n //         modal: '.modal1',\n //         btnOpen: '.js-newhero-open-modal-tr',\n //         btnClose: '.modalclose',\n //     });\n //     // }, 3000);\n // }\n // const swiper = new Swiper('.swiper-wrapper', {\n //     // Optional parameters\n //     direction: 'horizontal',\n //     loop: true,\n //     autoplay: {\n //         delay: 5000,\n //         disableOnInteraction: false //cont after click\n //     }\n // });\n // console.log(swiper)\n\n\n\nvar $9MaFa = parcelRequire(\"9MaFa\");\n\nvar $7274P = parcelRequire(\"7274P\");\n\nvar $bEw54 = parcelRequire(\"bEw54\");\n\n\nvar $38Z3Q = parcelRequire(\"38Z3Q\");\n//import getGenres from './get-genres';\nconst $c10c282de78da56f$var$myService = new (0, $9MaFa.default)();\nconst $c10c282de78da56f$var$weeklyGallery = document.querySelector(\".weekly-gallery\");\n$c10c282de78da56f$var$weeklyGallery.addEventListener(\"click\", $c10c282de78da56f$var$hendlerOpenModalWindow);\nfunction $c10c282de78da56f$var$hendlerOpenModalWindow(evt) {\n    const el = evt.target.closest(\"[film-id]\");\n    if (el) (0, $38Z3Q.openModalCard)(el.getAttribute(\"film-id\"));\n}\n$c10c282de78da56f$var$renderGalleryWeekly();\nfunction $c10c282de78da56f$var$renderGalleryWeekly() {\n    $c10c282de78da56f$var$myService.fetchTrendingWeekMovies().then((resp)=>{\n        const movies = resp.data.results;\n        const indexes = $c10c282de78da56f$var$rendomIndx(movies.length - 1);\n        const weeklyMovies = [];\n        indexes.forEach((index)=>{\n            const movie = movies[index];\n            weeklyMovies.push(movie);\n        });\n        function createMarkup(arr) {\n            return weeklyMovies.map((a)=>(0, $7274P.default)(a, (0, $bEw54.default))).join(\"\");\n        }\n        $c10c282de78da56f$var$weeklyGallery.innerHTML = createMarkup(weeklyMovies);\n    }).catch((e)=>console.error(e));\n}\nfunction $c10c282de78da56f$var$rendomIndx(x) {\n    const moviesIndx = [];\n    while(moviesIndx.length < 3){\n        const num = Math.floor(Math.random() * x);\n        if (moviesIndx.includes(num)) continue;\n        else moviesIndx.push(num);\n    }\n    return moviesIndx;\n}\n\n\n\nvar $9MaFa = parcelRequire(\"9MaFa\");\n\nvar $2rpgd = parcelRequire(\"2rpgd\");\n\nvar $b5rV1 = parcelRequire(\"b5rV1\");\nconst $65414923e0a79c46$var$wrapperForRender = document.querySelector(\".js-upcoming-wrapper\");\nconst $65414923e0a79c46$var$serviceUpcoming = new (0, $9MaFa.default)();\nfunction $65414923e0a79c46$var$creatMarkup(movie) {\n    return `\n    <div class=\"upcoming-left-wrap\">\n        <div class=\"up-thumb\">\n            <img\n                srcset=\"\n                    https://image.tmdb.org/t/p/w300/${movie.backdrop_path}      300w,\n                    https://image.tmdb.org/t/p/w780/${movie.backdrop_path}      780w,\n                    https://image.tmdb.org/t/p/w1280/${movie.backdrop_path}      1280w,\n                    https://image.tmdb.org/t/p/original/${movie.backdrop_path}  3840w\n                \"\n                sizes=\"(min-width: 320px) 498px,\n                        (min-width: 768px) 704px,\n                        (min-width: 1280px) 805px,\n                        100vw\"\n                src=\"https://image.tmdb.org/t/p/w300/${movie.backdrop_path}\"\n                alt=\"${movie.title}\"\n                class=\"upcoming-image\"\n                width=\"1280\"\n                height=\"720\"\n            />\n        </div>\n    </div>\n    <div class=\"upcoming-right-wrap\">\n        <h2 class=\"upcoming-movie-title\">${movie.title}</h2>\n        <table class=\"upcoming-table\">\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Release date</td>\n                <td class=\"upcom-data-release\">${movie.release_date}</td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Vote / Votes</td>\n                <td class=\"upcoming-data-average\">\n                    <span class=\"up-average\">${movie.vote_average}</span>/<span class=\"up-count\">${movie.vote_count}</span>\n                </td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Popularity</td>\n                <td class=\"upcoming-data-get\">${movie.popularity.toFixed(1)}</td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Genre</td>\n                <td class=\"upcoming-data-get\">${(0, $2rpgd.default)().filter(({ id: id  })=>movie.genre_ids.includes(id)).map(({ name: name  })=>name).slice(0, 2).join(\", \")}</td>\n            </tr>\n        </table>\n        <p class=\"upcoming-about\">About</p>\n        <p class=\"upcoming-about-descr\">${movie.overview}</p>\n        <div class=\"up-wrap-btn\">\n            <button type=\"button\" class=\"up-btn\" data-movie-id=\"${movie.id}\">Add to my library</button>\n        </div>\n        </div>\n    `;\n}\n$65414923e0a79c46$var$serviceUpcoming.fetchUpcomingMovies().then((resp)=>{\n    const data = resp.data;\n    const datasUpcoming = {\n        pageCurrent: data.page,\n        totalResults: data.total_results,\n        results: data.results\n    };\n    const arrayResults = datasUpcoming.results; //array with results\n    if (arrayResults.length > 0) {\n        $65414923e0a79c46$var$renderToMarkup(arrayResults);\n        $65414923e0a79c46$var$wrapperForRender.addEventListener(\"click\", (e)=>{\n            console.log(e.currentTarget, e.target);\n            console.log(e.currentTarget);\n            if (e.target === document.querySelector(\".up-btn\")) {\n                // console.log(\"buuuuuton\")\n                const button = e.target;\n                const movieId = e.target.dataset.movieId;\n                const getMovie = arrayResults.find((movie)=>movie.id == movieId);\n                if ((0, $b5rV1.isInLibrary)(movieId)) {\n                    (0, $b5rV1.removeFromLibrary)(movieId);\n                    button.textContent = \"Add to my library\";\n                // console.log(\"remove\");\n                } else {\n                    (0, $b5rV1.saveToLibrary)(getMovie);\n                    button.textContent = \"Remove from my library\";\n                // console.log(\"save\");\n                }\n            }\n        });\n    } else if (arrayResults.length === 0) $65414923e0a79c46$var$wrapperForRender.innerHTML = '<p class=\"upcoming-error\">OOPS... We are very sorry! Upcoming this month not found.</p>';\n}).catch((e)=>console.error(e));\nfunction $65414923e0a79c46$var$renderToMarkup(array) {\n    const randomIndex = $65414923e0a79c46$var$getRandomIndex();\n    const randomMovie = array.filter((movie)=>movie.backdrop_path !== null).map((movie)=>{\n        const movieMarkup = $65414923e0a79c46$var$creatMarkup(movie);\n        return {\n            id: movie.id,\n            markup: movieMarkup\n        };\n    })[randomIndex];\n    console.log(randomMovie);\n    const { id: id , markup: markup  } = randomMovie;\n    $65414923e0a79c46$var$wrapperForRender.innerHTML = markup;\n    const btnSaveToLocalStorage = document.querySelector(\".up-btn\");\n    if ((0, $b5rV1.isInLibrary)(id)) {\n        console.log((0, $b5rV1.isInLibrary)(id));\n        btnSaveToLocalStorage.textContent = \"Remove from my library\";\n    } else {\n        console.log(\"not\");\n        btnSaveToLocalStorage.textContent = \"Add to my library\";\n    }\n}\nfunction $65414923e0a79c46$var$getRandomIndex() {\n    return Math.floor(Math.random() * 15);\n}\n\n\nparcelRequire(\"38Z3Q\");\n\nparcelRequire(\"6fsAg\");\nparcelRequire(\"epHO8\");\n\n\n//# sourceMappingURL=index.604abd83.js.map\n","import './js/load-genres';\nimport './js/totop';\nimport './js/header';\nimport './js/newhero';\n// import './js/hero';\nimport './js/weekly';\nimport './js/upcoming';\nimport './js/modal-poster';\nimport './js/modal-trailer';\nimport './js/ourteam';\nimport './js/footer';\n","import TMDBApiService from './tmdb-api';\nimport { modalController } from './modal-trailer';\nimport getFiveStar from './fivezerostar.js';\nimport '../sass/_fivestar.scss';\n// import Swiper from 'swiper';\n// import 'swiper/swiper.min.css';\n// import 'swiper/swiper.css';\n\nfunction createMarkup(movie) {\n    console.log(movie.overview)\n    return `\n        <div class=\"swiper-wrapper\">\n            <div class=\"swiper-slide newhero-content-wrapper\">\n                    <div class=\"newhero-thumb\">\n                        <img\n                            srcset=\"\n                                https://image.tmdb.org/t/p/w300/${movie.backdrop_path}      300w,\n                                https://image.tmdb.org/t/p/w780/${movie.backdrop_path}      780w,\n                                https://image.tmdb.org/t/p/w1280/${movie.backdrop_path}      1280w,\n                                https://image.tmdb.org/t/p/original/${movie.backdrop_path}  3840w\n                            \"\n                            sizes=\"(min-width: 320px) 772px,\n                                    (min-width: 768px) 768px,\n                                    (min-width: 1280px) 1280px,\n                                    100vw\"\n                            src=\"https://image.tmdb.org/t/p/w300/${movie.backdrop_path}\"\n                            alt=\"${movie.title}\"\n                            class=\"newhero-image\"\n                            width=\"1280\"\n                            height=\"720\"\n                        />\n                    </div>\n\n                    <div class=\"newhero-movie-inform-wrap\">\n                        <h1 class=\"newhero-movie-title\">${movie.title}</h1>\n                        <div class=\"newhero-stars\">${getFiveStar(movie.vote_average)}</div>\n                        <p class=\"newhero-about-descr\">${movie.overview.substring(0, 190)}...</p>\n                        <div class=\"newh-wrap-buttons\">\n                            <div class=\"newhero-wrap-btn-api-one newh-wrap-trailer\">\n                                <button type=\"button\" class=\"newhero-btn-api-one js-newhero-open-modal-tr\">Watch trailer</button>\n                            </div>\n                            <div class=\"newhero-wrap-btn-api-two newh-wrap-detail\">\n                                <button type=\"button\" class=\"newhero-btn-api-two js-newhero-open-mod-det\">More details</button>\n                            </div>\n                        </div>\n                    </div>\n            </div>\n        </div>\n    `\n}\n\nconst wrapperContent = document.querySelector('.newhero-content-wrapper');\nconst wrapperForRender = document.querySelector('.newhero-render-wrapper')\n\nconst serviceTrendingDaysMovies = new TMDBApiService();\nserviceTrendingDaysMovies\n    .fetchTrendingDayMovies()\n    .then((resp) => {\n        const data = resp.data;\n        const datasTrendDay = {\n            pageCurrent: data.page,\n            totalResults: data.total_results,\n            results: data.results\n        }\n        const arrayResults = datasTrendDay.results; //array with results\n        if (arrayResults.length > 0) {\n            renderToMarkup(arrayResults);\n            wrapperForRender.addEventListener('click', (e) => {\n                console.log(e.currentTarget, e.target)\n                console.log(e.currentTarget)\n                if (e.target === document.querySelector('.js-newhero-open-mod-det')) {\n                    /// open modal with details \n                    console.log('button DETAILS')\n                    wrapperForRender.addEventListener('click', (e) => {\n                        const el = evt.target.closest('[film-id]');\n                        if (el) {\n                            openModalCard(el.getAttribute('film-id'));\n                        }\n                    });\n                }\n            })\n            return\n        }\n    })\n    .catch((e) => console.error(e));\n\n//---------------------------------changes this function for slider \nfunction renderToMarkup(array) {\n    const randomIndex = getRandomIndex();\n    const randomMovie = array\n        .filter(movie => movie.backdrop_path !== null)\n        .map(movie => {\n            const movieMarkup = createMarkup(movie);\n            return {\n                overview: movie.overview,\n                // id: movie.id,\n                markup: movieMarkup\n            }\n        })[randomIndex];\n    const { overview, markup } = randomMovie;\n    setTimeout(() => {\n        wrapperForRender.innerHTML = markup;\n        modalController({\n            modal: '.modal1',\n            btnOpen: '.js-newhero-open-modal-tr',\n            btnClose: '.modalclose',\n        });\n    }, 3000);\n}\nfunction getRandomIndex() {\n    return Math.floor(Math.random() * 15);\n}\n//=================swiper======================================\n\n// function renderToMarkup(array) {\n//     // const randomIndex = getRandomIndex();\n//     const slides = array\n//         .filter(movie => movie.backdrop_path !== null)\n//         .map(movie => createMarkup(movie))\n//         .join('');\n\n//     // setTimeout(() => {\n//     wrapperForRender.innerHTML = slides;\n//     // console.log('timeout');\n//     modalController({\n//         modal: '.modal1',\n//         btnOpen: '.js-newhero-open-modal-tr',\n//         btnClose: '.modalclose',\n//     });\n\n//     // }, 3000);\n// }\n\n// const swiper = new Swiper('.swiper-wrapper', {\n//     // Optional parameters\n//     direction: 'horizontal',\n//     loop: true,\n//     autoplay: {\n//         delay: 5000,\n//         disableOnInteraction: false //cont after click\n//     }\n// });\n// console.log(swiper)","import TMDBApiService from './tmdb-api.js';\n\nexport const modalController = ({ modal, btnOpen, btnClose, time = 300 }) => {\n  const buttonElems = document.querySelectorAll(btnOpen);\n  const modalElem = document.querySelector(modal);\n  let player;\n\n  modalElem.style.cssText = `\n    display: flex;\n    visibility: hidden;\n    opacity: 0;\n    transition: opacity ${time}ms ease-in-out;\n  `;\n\n  const closeModal = event => {\n    const target = event.target;\n\n    if (\n      target === modalElem ||\n      (btnClose && target.closest(btnClose)) ||\n      event.code === 'Escape'\n    ) {\n      modalElem.style.opacity = 0;\n\n      setTimeout(() => {\n        modalElem.style.visibility = 'hidden';\n        if (player) {\n          player.stopVideo();\n        }\n      }, time);\n\n      window.removeEventListener('keydown', closeModal);\n    }\n    document.body.classList.remove('modal-open');\n  };\n\n  const openModal = async evt => {\n    const el = evt.target.closest('[film-id]');\n    try {\n      const trailerKey = await getListMovie(el.getAttribute('film-id'));\n      modalElem.style.visibility = 'visible';\n      modalElem.style.opacity = 1;\n      window.addEventListener('keydown', closeModal);\n\n      if (player) {\n        player.loadVideoById(trailerKey);\n      }\n      document.body.classList.add('modal-open');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  buttonElems.forEach(btn => {\n    btn.addEventListener('click', openModal);\n  });\n\n  modalElem.addEventListener('click', closeModal);\n\n  const myService = new TMDBApiService();\n\n  // Загрузка API YouTube Player и создание плеера\n  function loadYoutubePlayerAPI() {\n    const tag = document.createElement('script');\n    tag.src = 'https://www.youtube.com/iframe_api';\n    const firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n    window.onYouTubeIframeAPIReady = createPlayer;\n  }\n\n  function getListMovie(id) {\n    return new Promise((resolve, reject) => {\n      myService\n        .fetchMovieVideoById(id)\n        .then(resp => {\n          if (resp) {\n            console.log(resp);\n            const trailerKey = getTrailerKey(resp); // Получение ключа видео\n            resolve(trailerKey); // Возвращение ключа видео в промисе\n          } else {\n            const errorModalElem = document.createElement('div');\n            errorModalElem.classList.add('modal__error');\n            errorModalElem.innerHTML = `\n            <p class=\"error-message\">\n              OOPS... <br />\n              We are very sorry! <br />\n              But we couldn’t find the trailer.\n            </p>\n            <img class=\"error-image\" src=\"../images/oops.jpg\" alt=\"error\" />\n          `;\n\n            modalElem.appendChild(errorModalElem);\n            reject(new Error('Trailer not found')); // Ошибка в промисе, если трейлер не найден\n          }\n        })\n        .catch(e => reject(e));\n    });\n  }\n\n  let trailerKey;\n\n  function getTrailerKey({ data: { results } }) {\n    const trailerList = results\n      .filter(({ type }) => {\n        return type === 'Trailer';\n      })\n      .sort(({ published_at: a }, { published_at: b }) => {\n        return a - b;\n      });\n    if (trailerList) {\n      return trailerList[0].key;\n    }\n  }\n\n  function createPlayer(videoId) {\n    player = new window.YT.Player('youtube-player', {\n      width: '600',\n      height: '350',\n      videoId: videoId, // Использование переданного ключа видео в качестве значения videoId\n      playerVars: {\n        autoplay: 0,\n        controls: 1,\n        disablekb: 1,\n        fs: 0,\n        iv_load_policy: 3,\n        rel: 0,\n      },\n      events: {\n        onReady: onPlayerReady,\n      },\n    });\n  }\n\n  function onPlayerReady(event) {\n    // Видео готово к воспроизведению\n  }\n\n  loadYoutubePlayerAPI();\n};\n\n// modalController({\n//   modal: '.modal1',\n//   btnOpen: '.section__button1',\n//   btnClose: '.modal__close',\n// });\n","import TMDBApiService from './tmdb-api';\nimport getFilmCard from './film-card';\nimport getFiveStar from './fivezerostar';\nimport { modalController } from './modal-trailer';\nimport { openModalCard } from './modal-poster';\n//import getGenres from './get-genres';\n\nconst myService = new TMDBApiService();\nconst weeklyGallery = document.querySelector('.weekly-gallery');\n\nweeklyGallery.addEventListener('click', hendlerOpenModalWindow);\n\nfunction hendlerOpenModalWindow(evt) {\n  const el = evt.target.closest('[film-id]');\n  if (el) {\n    openModalCard(el.getAttribute('film-id'));\n  }\n}\n\nrenderGalleryWeekly();\n\nfunction renderGalleryWeekly() {\n  myService\n    .fetchTrendingWeekMovies()\n    .then(resp => {\n      const movies = resp.data.results;\n\n      const indexes = rendomIndx(movies.length - 1);\n      const weeklyMovies = [];\n\n      indexes.forEach(index => {\n        const movie = movies[index];\n        weeklyMovies.push(movie);\n      });\n\n      function createMarkup(arr) {\n        return weeklyMovies.map(a => getFilmCard(a, getFiveStar)).join('');\n      }\n\n      weeklyGallery.innerHTML = createMarkup(weeklyMovies);\n    })\n    .catch(e => console.error(e));\n}\n\nfunction rendomIndx(x) {\n  const moviesIndx = [];\n\n  while (moviesIndx.length < 3) {\n    const num = Math.floor(Math.random() * x);\n\n    if (moviesIndx.includes(num)) {\n      continue;\n    } else {\n      moviesIndx.push(num);\n    }\n  }\n  return moviesIndx;\n}\n","import TMDBApiService from './tmdb-api';\nimport getGenres from './get-genres';\nimport {\n    saveToLibrary,\n    getLibraryList,\n    isInLibrary,\n    removeFromLibrary,\n} from './local-storage';\n\nconst wrapperForRender = document.querySelector('.js-upcoming-wrapper');\nconst serviceUpcoming = new TMDBApiService();\n\nfunction creatMarkup(movie) {\n    return `\n    <div class=\"upcoming-left-wrap\">\n        <div class=\"up-thumb\">\n            <img\n                srcset=\"\n                    https://image.tmdb.org/t/p/w300/${movie.backdrop_path}      300w,\n                    https://image.tmdb.org/t/p/w780/${movie.backdrop_path}      780w,\n                    https://image.tmdb.org/t/p/w1280/${movie.backdrop_path}      1280w,\n                    https://image.tmdb.org/t/p/original/${movie.backdrop_path}  3840w\n                \"\n                sizes=\"(min-width: 320px) 498px,\n                        (min-width: 768px) 704px,\n                        (min-width: 1280px) 805px,\n                        100vw\"\n                src=\"https://image.tmdb.org/t/p/w300/${movie.backdrop_path}\"\n                alt=\"${movie.title}\"\n                class=\"upcoming-image\"\n                width=\"1280\"\n                height=\"720\"\n            />\n        </div>\n    </div>\n    <div class=\"upcoming-right-wrap\">\n        <h2 class=\"upcoming-movie-title\">${movie.title}</h2>\n        <table class=\"upcoming-table\">\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Release date</td>\n                <td class=\"upcom-data-release\">${movie.release_date}</td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Vote / Votes</td>\n                <td class=\"upcoming-data-average\">\n                    <span class=\"up-average\">${movie.vote_average}</span>/<span class=\"up-count\">${movie.vote_count}</span>\n                </td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Popularity</td>\n                <td class=\"upcoming-data-get\">${movie.popularity.toFixed(1)}</td>\n            </tr>\n            <tr class=\"upcoming-tab-row\">\n                <td class=\"upcoming-data\">Genre</td>\n                <td class=\"upcoming-data-get\">${getGenres()\n            .filter(({ id }) => movie.genre_ids.includes(id))\n            .map(({ name }) => name)\n            .slice(0, 2)\n            .join(', ')}</td>\n            </tr>\n        </table>\n        <p class=\"upcoming-about\">About</p>\n        <p class=\"upcoming-about-descr\">${movie.overview}</p>\n        <div class=\"up-wrap-btn\">\n            <button type=\"button\" class=\"up-btn\" data-movie-id=\"${movie.id}\">Add to my library</button>\n        </div>\n        </div>\n    `\n}\n\n\nserviceUpcoming\n    .fetchUpcomingMovies()\n    .then((resp) => {\n        const data = resp.data;\n        const datasUpcoming = {\n            pageCurrent: data.page,\n            totalResults: data.total_results,\n            results: data.results\n        }\n        const arrayResults = datasUpcoming.results;//array with results\n        if (arrayResults.length > 0) {\n            renderToMarkup(arrayResults);\n            wrapperForRender.addEventListener('click', (e) => {\n                console.log(e.currentTarget, e.target)\n                console.log(e.currentTarget)\n                if (e.target === document.querySelector('.up-btn')) {\n                    // console.log(\"buuuuuton\")\n                    const button = e.target;\n                    const movieId = e.target.dataset.movieId;\n                    const getMovie = arrayResults.find((movie) => movie.id == movieId);\n                    if (isInLibrary(movieId)) {\n                        removeFromLibrary(movieId);\n                        button.textContent = \"Add to my library\";\n                        // console.log(\"remove\");\n                    } else {\n                        saveToLibrary(getMovie);\n                        button.textContent = \"Remove from my library\";\n                        // console.log(\"save\");\n                    }\n                }\n            })\n        } else if (arrayResults.length === 0) {\n            wrapperForRender.innerHTML = '<p class=\"upcoming-error\">OOPS... We are very sorry! Upcoming this month not found.</p>'\n        }\n    })\n    .catch((e) => console.error(e));\n\nfunction renderToMarkup(array) {\n    const randomIndex = getRandomIndex();\n    const randomMovie = array\n        .filter(movie => movie.backdrop_path !== null)\n        .map(movie => {\n            const movieMarkup = creatMarkup(movie);\n            return {\n                id: movie.id,\n                markup: movieMarkup\n            }\n        })[randomIndex];\n    console.log(randomMovie)\n    const { id, markup } = randomMovie;\n    wrapperForRender.innerHTML = markup;\n    const btnSaveToLocalStorage = document.querySelector('.up-btn');\n    if (isInLibrary(id)) {\n        console.log(isInLibrary(id))\n        btnSaveToLocalStorage.textContent = \"Remove from my library\";\n    } else {\n        console.log(\"not\")\n        btnSaveToLocalStorage.textContent = \"Add to my library\";\n    }\n}\nfunction getRandomIndex() {\n    return Math.floor(Math.random() * 15);\n}\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$9MaFa","$08461d082de52db9$export$e12694e911a05f40","modal","btnOpen","btnClose","time","player","buttonElems","document","querySelectorAll","modalElem","querySelector","style","cssText","closeModal","event","target","closest","opacity","setTimeout","visibility","stopVideo","removeEventListener","body","classList","remove","openModal","evt","el","trailerKey","getAttribute","Promise","resolve","reject","myService","fetchMovieVideoById","then","resp","console","log","getTrailerKey","data","results","trailerList","filter","type","sort","published_at","a","b","key","errorModalElem","createElement","add","innerHTML","appendChild","catch","e","addEventListener","loadVideoById","error","forEach","btn","default","createPlayer","videoId","YT","Player","width","height","playerVars","autoplay","controls","disablekb","fs","iv_load_policy","rel","events","onReady","onPlayerReady","loadYoutubePlayerAPI","tag","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","onYouTubeIframeAPIReady","$bEw54","$798a88f31bddc2c8$var$wrapperForRender","$798a88f31bddc2c8$var$serviceTrendingDaysMovies","fetchTrendingDayMovies","datasTrendDay","pageCurrent","page","totalResults","total_results","arrayResults","length","$798a88f31bddc2c8$var$renderToMarkup","array","randomMovie","movie","backdrop_path","map","movieMarkup","overview","title","vote_average","substring","markup","Math","floor","random","currentTarget","openModalCard","$7274P","$38Z3Q","$c10c282de78da56f$var$myService","$c10c282de78da56f$var$weeklyGallery","fetchTrendingWeekMovies","movies","indexes","$c10c282de78da56f$var$rendomIndx","x","moviesIndx","num","includes","push","weeklyMovies","index","join","$2rpgd","$b5rV1","$65414923e0a79c46$var$wrapperForRender","$65414923e0a79c46$var$serviceUpcoming","fetchUpcomingMovies","datasUpcoming","$65414923e0a79c46$var$renderToMarkup","release_date","vote_count","popularity","toFixed","genre_ids","name","slice","btnSaveToLocalStorage","isInLibrary","textContent","button","movieId","dataset","getMovie","find","removeFromLibrary","saveToLibrary"],"version":3,"file":"index.604abd83.js.map"}